# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ WhisperLiveKit

problems_analysis = {
    "–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã": [
        "–ú–µ–¥–ª–µ–Ω–Ω–∞—è –∏ –ø–ª–æ—Ö–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è",
        "–ü—Ä–æ–±–ª–µ–º—ã —Å GPU –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π", 
        "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env —Ñ–∞–π–ª–µ",
        "–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –º–æ–¥–µ–ª–µ–π",
        "–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤",
        "–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏"
    ],
    
    "–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑": {
        "1. –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è": {
            "–ü—Ä–∏—á–∏–Ω—ã": [
                "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –≤–º–µ—Å—Ç–æ GPU",
                "–ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏",
                "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CUDA",
                "–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∂–µ–ª–µ–∑–∞"
            ],
            "–†–µ—à–µ–Ω–∏—è": [
                "–í–∫–ª—é—á–∏—Ç—å CUDA_VISIBLE_DEVICES=0",
                "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å WLK_FRAME_THRESHOLD=15 –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏",
                "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å smaller –º–æ–¥–µ–ª—å (small –≤–º–µ—Å—Ç–æ large-v3-turbo)",
                "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤"
            ]
        },
        
        "2. –ü—Ä–æ–±–ª–µ–º—ã —Å GPU": {
            "–ü—Ä–∏—á–∏–Ω—ã": [
                "CUDA –¥—Ä–∞–π–≤–µ—Ä—ã –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã",
                "PyTorch –±–µ–∑ CUDA –ø–æ–¥–¥–µ—Ä–∂–∫–∏",
                "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è",
                "–ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π CUDA/cuDNN"
            ],
            "–†–µ—à–µ–Ω–∏—è": [
                "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CUDA toolkit 11.8",
                "–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PyTorch —Å CUDA –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π",
                "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å PATH –∏ LD_LIBRARY_PATH",
                "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥—Ä–∞–π–≤–µ—Ä–æ–≤"
            ]
        },
        
        "3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .env": {
            "–ü—Ä–∏—á–∏–Ω—ã": [
                "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö",
                "–ö–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏",
                "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –º–æ–¥–µ–ª—è–º",
                "–ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã"
            ],
            "–†–µ—à–µ–Ω–∏—è": [
                "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é",
                "–£–±—Ä–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã",
                "–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—É—Ç–∏ –∫ –º–æ–¥–µ–ª—è–º",
                "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∂–µ–ª–µ–∑–∞"
            ]
        }
    }
}

print("=== –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú WHISPER –†–ï–ü–û–ó–ò–¢–û–†–ò–Ø ===")
print()

for category, issues in problems_analysis["–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑"].items():
    print(f"üî¥ {category}")
    print(f"   –ü—Ä–∏—á–∏–Ω—ã:")
    for cause in issues["–ü—Ä–∏—á–∏–Ω—ã"]:
        print(f"   - {cause}")
    print(f"   –†–µ—à–µ–Ω–∏—è:")
    for solution in issues["–†–µ—à–µ–Ω–∏—è"]:
        print(f"   ‚úÖ {solution}")
    print()

print("=== –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –í .ENV –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò ===")
env_problems = [
    "WLK_MODEL=large-v3-turbo - —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å, –∑–∞–º–µ–¥–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É",
    "WLK_FRAME_THRESHOLD=15 - —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π, –º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ",
    "WLK_BEAMS=1 - –º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏",
    "–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ CUDA –≤ —Ä–∞–∑–Ω—ã—Ö —Å–µ–∫—Ü–∏—è—Ö",
    "–ò–∑–ª–∏—à–Ω–µ —Å–ª–æ–∂–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è",
    "12 –≤–æ—Ä–∫–µ—Ä–æ–≤ Gunicorn - –∏–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
]

for i, problem in enumerate(env_problems, 1):
    print(f"{i}. {problem}")

print()
print("=== –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø ===")
fixes = [
    "–ó–∞–º–µ–Ω–∏—Ç—å large-v3-turbo –Ω–∞ small –¥–ª—è –ª—É—á—à–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏",
    "–£–≤–µ–ª–∏—á–∏—Ç—å FRAME_THRESHOLD –¥–æ 25 –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏/–∫–∞—á–µ—Å—Ç–≤–∞", 
    "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å BEAMS=3 –¥–ª—è –ª—É—á—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏",
    "–£–ø—Ä–æ—Å—Ç–∏—Ç—å CUDA –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é",
    "–û—Ç–∫–ª—é—á–∏—Ç—å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏",
    "–£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Gunicorn –≤–æ—Ä–∫–µ—Ä–æ–≤ –¥–æ 2-4"
]

for i, fix in enumerate(fixes, 1):
    print(f"‚úÖ {i}. {fix}")